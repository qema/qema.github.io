<!DOCTYPE html>
<html>
  <head>
    <title>nanosite - documentation</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="http://wanganzhou.com/nanosite/scripts/highlight/highlight.css">
    <script src="http://wanganzhou.com/nanosite/scripts/highlight/highlight.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
    
    <link rel="stylesheet" href="http://wanganzhou.com/nanosite/style.css">
  </head>
  <body>
    <header>
      <h1><a href="http://wanganzhou.com/nanosite/index.html">nanosite</a></h1>
      <nav>
	<ul>
	  <li><a href="http://wanganzhou.com/nanosite/tutorial.html">Tutorial</a></li><li><a href="http://wanganzhou.com/nanosite/doc/index.html">Documentation</a></li><li><a href="http://wanganzhou.com/nanosite/packages.html">Packages</a></li><li><a href="http://wanganzhou.com/nanosite/download.html">Download</a></li>
	</ul>
      </nav>
    </header>
    
<h2>documentation</h2>


<article>
  <p>

<ul>
  <li><a href="http://wanganzhou.com/nanosite/doc/site-generation.html">site generation</a></li>
  <li><a href="http://wanganzhou.com/nanosite/doc/templates.html">template language</a></li>
  <li><a href="http://wanganzhou.com/nanosite/doc/command-line.html">command line</a></li>
  <li><a href="http://wanganzhou.com/nanosite/doc/packages.html">packages</a></li>
</ul>

</p>
<h1>packages</h1>
<p>A package is a collection of files that you can import into your project. Packages contain things like site layouts, macros and themes. From blog templates to RSS, packages can give you a head start on your project.</p>
<ul>
<li><a href="#using-packages">using packages</a></li>
<li><a href="#making-packages">making packages</a></li>
</ul>
<h2><a name="using-packages"></a> using packages</h2>
<p>Calling <code>nanosite import [name]</code> will import or upgrade a package. You can import a package locally or from a package repository:</p>
<ul>
<li>Locally: nanosite looks for a <code>[name].zip</code> file in the root of your project.</li>
<li>From a repository: nanosite will download the package from the online package repository. To point to an alternate repository, use <code>nanosite --set-package-url [repository-url]</code>.</li>
</ul>
<p>Use <code>nanosite import [name] --force</code> to force reinstall.</p>
<p>The package is now imported into your project!</p>
<h2><a name="making-packages"></a> making packages</h2>
<p>Packages are simply <code>.zip</code> files with an extra file, <code>rules.json</code>, that describes how the files will be installed during import.</p>
<h3>rules.json</h3>
<pre><code>{
  "files": {
    "[filename1.ext]": {"dest": [destination-path], "action": "[a or w]"},
    ...
  },
  "dependencies": [
    "[dependency-name-1]", ...
  ],
  "version": "[version-number]"
}
</code></pre>
<p><code>rules.json</code> is a dictionary with these entries:</p>
<ul>
<li><code>files</code>: dictionary<ul>
<li>Entries are filenames</li>
<li>Values are dictionaries with these attributes:<ul>
<li><code>dest</code>: destination path of file, relative to site top. This is a templated string: <code>{{ MetaDir }}</code> is replaced with the site's <code>meta</code> directory.</li>
<li><code>action</code>: "w" to write the file to this path. "a" to append the file to the file at this path.</li>
</ul>
</li>
</ul>
</li>
<li><code>dependencies</code>: list, names of packages this package requires.</li>
<li><code>version</code>: a version number, recommended <code>x.x.x</code> format</li>
</ul>
</article>

    <footer>
      <div><small>Copyright Andrew Wang. Powered by <a href="http://wanganzhou.com/nanosite/index.html">nanosite</a>.</small></div>
    </footer>
  </body>
  
</html>


